# Starryboardの使い方

この記事が対象とするStarryboard のバージョン 

> Starryboard v0

## アプリの基本的な動作

### 原則的に「常に保存」

* 操作結果は常に保存されます
* 重い操作には「確認ダイアログの表示」または「元に戻す操作」が提供されます

### 複数ウィンドウ表示に対応

* Starryboardアプリは複数ウィンドウを表示できます
* エピソードファイルはウィンドウに紐づいて管理されるため、既に開かれているエピソードを他のウィンドウが開くことはできません
* プレビュー表示のみ、エピソード内から別ウィンドウを表示できます（プレビューウィンドウの表示設定から切替可能です）

## ページ別の説明

* [シリーズページ](page-series-and-episodes.md)
* [リストページ](page-cut-list.md)
* [キャンバスページ](page-canvas.md)
* [プレビューページ](page-preview.md)
* [エクスポートページ](page-export.md)
* [設定ページ](page-settings.md)


## 用語説明

### エピソード

エピソードは１話分の絵コンテを格納するコンテナです。

Starryboardではエピソードを１つのファイルとして管理しており、ファイル中には全てのカット、カット内の画像、キャンバス設定、カテゴリ・ロール設定、カメラ・レイヤーのモーション（動き、アニメーション）、エクスポート方法などが記録されます。

> エピソードファイルのフォーマットの詳細 
> 
> エピソードファイルは LiteDB と呼ばれるデータベースライブラリに基づいたファイルフォーマットで記録されています。データベース型ファイルフォーマットを用いることで、画像やアニメーションなど異なる種類のデータを１つのファイルで管理しています。安全なデータの読み書き機能（トランザクション処理）を土台にしているため、OSやアプリがクラッシュするなどデータ書き込みが途中だった場合でも安全なデータ状態に復帰して動かすことができると期待できます。

### シリーズ

シリーズは複数エピソードをまとめるフォルダです。ファイルシステム上のフォルダをそのままシリーズとして扱っています。

シリーズはフォルダですが、フォルダ内にフォルダを作る使い方には対応しません。全てのシリーズは横並びに表示されます。（v0.3.8時点）

### カット

映像構成単位の一つとして動画撮影時にひと回しで撮影する範囲を「カット」と呼ぶそうですが、Starrybaordではこの捉え方を採用しています。

カットにはカット番号、イメージ、アクションとセリフのテキスト、表示する秒数などのデータが含まれます。

### シーン

カットにはシーン区切りを設定できます。リストページなどに配置された大きくスクロールするボタンはシーン区切りのあるカットに頭出しする形でスクロールします。

プレビュー時はシーン区切り単位で範囲を指定できます。


### カテゴリとロール

事前設定レイヤー構造として「カテゴリ」と「ロール」の考え方を取り入れています。

絵の構成要素を分解していくと２つの軸があるのではと仮説を立てました。カテゴリは「ラフ線」「線の清書」「塗り」「注釈」などの絵の発展段階ごとに分けられたレイヤー構造です。もう一つのロールは「キャラクター」「背景」「小物」などの同時的に存在する人や物、風景を隔てるレイヤー構造です。

> 物や風景もイメージを構成し映像の印象を決める要素として役割を持つことから、キャラクターと並んでロールと表現しています。

カットにロールを追加するごとに事前に決めたカテゴリ分のレイヤーが追加されます。

> 例えばエピソードに４つのカテゴリを設定した状態でカットに４つロールを持たせた場合は合計１６レイヤー存在することになります。

そんなにレイヤーを先に作るとデータ量が無駄に増えるのではと思われるかもしれませんが、レイヤーの画像データが保存されるのは各レイヤーの編集後となり、未作成状態のレイヤーはデータ量がほぼゼロです。

全てのカットでレイヤー構造が決まっている副次効果として、プレビューやエクスポートの際に映像に含める要素を後から変更することも可能です。（例えば「注釈を消して動画化」「キャラクターの線だけ連番画像化」など）

レイヤーアニメーションを設定する際はロールごとに絵を動かすことができます。