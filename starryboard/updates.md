# Starryboard の更新情報

## 対応予定

### vNext

* 画像の貼り付け時にカットに画像データを保持できるように
* カット一覧表示方法にバリエーションを追加（グリッド表示やテキストのみなど）
* 動画コンテの出力用キャッシュを随時生成するオプション
* シナリオのインポート

## 更新履歴

### v0.3.1

#### 変更
* プレビュー用の画面を１つにまとめてどのページからでも呼び出せるような形に変更しました

#### 修正 
* 塗りカテゴリなどのラスターレイヤーに対して範囲指定してコピー＆ペーストを実行しても貼り付けた画像が消えてしまっていた問題を修正しました

### v0.2.5
#### 修正
* キャンバスページを開いた時にキャンバスの縦横比が崩れることがあった問題を修正しました
* キャンバスページで、操作ごとに描写した線がチラツク問題を修正しました
* カットリストページのカットサムネイル画像が表示されないことがあった問題を修正しました
* キャンバスページでラスターレイヤー画像に対するUNDO操作が失敗するケースがあった問題を修正しました
* キャンバスページでロールを並べ替えした際にキャンバス上のレイヤーの並びか入れ替わっていなかった問題を修正しました

#### 変更
* キャンバスページのカテゴリ及びロールの各アイテムのアイテムメニューに設定を開くボタンを追加しました



### v0.2.2 ~ v0.2.4

#### 修正

* カット削除時に選択中カットの接続カット情報の更新に失敗していた問題を修正しました。
* キャンバスページでのタッチ操作時におけるキャンバス移動・拡大縮小・回転の各操作が動作していなかった問題を修正しました

#### 変更

* ロール参照表示に対応しました
  * 別カットのロールを右クリックして「参照を保持」を選んでから、参照表示したいカットを選んで永続参照部分の追加ボタンからロール参照を追加できます。
  * 参照元のロールの画像レイヤーを変更した場合、参照先の表示も更新されます
* プレビュー再生がより効率よく動作するよう調整しました

### v0.2.1 2024/12

#### 修正

* レイヤーカテゴリ設定ページでカテゴリ名を変更できなかった問題を修正しました
* レイヤーカテゴリ設定からカテゴリを編集時非表示に指定した後、キャンバスページ上のカテゴリ表示のペン形状がズレていた問題を修正しました
* レイヤーカテゴリ設定を変更するとキャンバスページのカラーパレットUIの色が表示されなくなっていた問題を修正しました
* カテゴリを編集時非表示に指定した後、消しゴム等が正常動作しなかった問題を修正しました
* キャンバスページを開いた際に、キャンバスの縦の比率が変わらないまま表示されていた問題を修正しました
* キャンバスページを開いた際に、キャンバスのデフォルト表示位置をカテゴリやロールのボタンなどを考慮した配置になるよう修正しました
* キャンバスページに左下のキャンバス変形補助UIにおいて、左右反転と上下反転のボタンが異なるアイコンとなるよう修正しました
* キャンバスページでベクターレイヤーをラスターレイヤーに変換操作後、動作が不安定化する問題を修正しました
* キャンバスページで画像を貼り付けた際、他の操作をしていない場合にレイヤーが保存されていなかった問題を修正しました
* プレビュー再生時に共有レイヤーに指定されたロールの描写情報が接続カットの子カットにおいて表示されていなかった問題を修正しました
* リストページでのカットの画像サムネイルが表示されないことがある問題を修正しました

#### 変更

* アプリ内で生じたエラーを確認するためのエラー報告UIを追加しました
  * アプリ設定から「手動エラー報告UIを表示する」をオンにすると表示されます
  * オンにするとエラー発生時に「エラー発生😱」ボタンが画面右下に表示されるようになります
* キャンバスページ内での消しゴム及び範囲選択の操作を選択中のロールに限定するよう変更しました

### v0.2.0 2024/11

#### 修正

* 設定ページにおいてサードパーティライセンス表記が表示されていなかった問題を修正しました
* 接続カットの共有レイヤーへの描きこみ内容がカット切り替え時に消えてしまっていた問題を修正しました
* 「共有レイヤーの編集中」表記がキャンバス左下のキャンバス変形補助UIのボタンと被って表示されていた問題を修正しました
* キャンバスページにおいてカット変更時に常に全レイヤーが保存されていたことによるカット切り替え
カット切替がスムーズに行われていなかった問題を修正しました
* キャンバスページのロールアイテムに「接続カット間でレイヤーを共有」を示す表示を追加しました
* キャンバスページを再表示した際にカラーパレットの色が表示されない問題を修正しました
* キャンバスページのカラーパレットUIにおいて選択中の色をわかりやすく表示するよう修正しました
* キャンバスページの選択中のカテゴリとロールを見やすくなるよう配色を調整しました
* アプリのタイトルバーのテキスト部分を掴んでウィンドウを動かせなかった問題を修正しました
* リストページにおいて、カットの追加や削除が操作できなかった問題を解消しました

#### 変更

* キャンバスページの描写用UIのレイアウトを左側に寄せるよう変更しました
* キャンバスページのカテゴリとロールの選択を１クリックで行えるよう整理しました
* カットの時間指定用ストップウォッチにおける計測操作と時間の反映操作を分けるよう変更しました
* キャンバスページでの表示上の上下反転、左右反転するボタンをキャンバス左下に追加しました（アイコンが同一のため見分けられない問題があります。修正予定です）

### v0.1.5 2024/11

#### 修正

* アプリセッション中にエピソードを閉じると同じエピソードが開けなくなる問題を修正しました
* 複数ウィンドウとして起動した際に既に使用中のエピソードが選択できていた問題を修正しました
* エピソード作成時に同名ファイルのチェックを行うように修正しました
* エピソードを複数選択して削除する操作が動作していなかった問題を修正しました
* キャンバスページから離脱するタイミングでカットのサムネイル画像が更新されるようにしました（アプリ終了時も含む） 
* キャンバスページのカット一覧からカット削除を選択した際に確認ダイアログを表示するようになりました
* たまにラスター画像レイヤーに対する変更がサムネイル画像に反映されなくなっていた問題を修正しました
* 消しゴム使用時に非対象レイヤーが半透明表示のままサムネイル画像を更新していた問題を修正しました
* Windows10端末で消しゴムアイコンが表示されていなかった問題を修正しました
* タブレットモード時にウィンドウ左上に常に戻るボタンを表示するようにしました
* プレビューページに透かし除去アドオン未購入時にウィンドウキャプチャ禁止となる旨の説明とアドオン購入UIを追加しました

#### 変更

* リストページとキャンバスページにて、内部的に利用しているカットリストアイテムをキャッシュするようにしました。読み込み時間の短縮、メモリの整理処理の削減などパフォーマンス改善が期待されます
* リストページのシーン一覧において、シーンごとのカット数と再生時間の小計を表示するようになりました
* キャンバスページのカット内の画像を保存をロールやカテゴリの選択変更時にも行うようにしました
* キャンバスを動かす操作を整理しました
  * マウスでは右クリックのみキャンバスを動かせます
  * タッチ操作時は動かせますが、設定から「タッチで描写」が有効な場合にはタッチでキャンバスは動かせません
  * ペン操作時はタッチでキャンバスを動かす前提ですが、マウス同様右クリック操作で動かせます
* キャンバス左下に配置されたキャンバス変形補助UIが一部動かせなかった問題を解消しました
  * 拡大縮小が操作できなかった問題を修正しました
  * 移動の操作がポインターホールド後にポインター移動を求める動作から、仮想パッド中心からのポインター位置の方向に押した時間だけ動くような動作へと変更しました
* 消しゴムモード時、キャンバス範囲外を２回連続でクリックすると消しゴムモードを終了する動作を追加しました
* 範囲選択モード時、選択範囲がゼロの選択を２回連続で行うと範囲選択モードを終了する動作を追加しました
* キャンバスページの選択中カットのカット番号表示部分をクリックすると、カット一覧におけるスクロール位置が現在カットを中心となるようスクロールする動作を追加しました


### v0.1.4 2024/11

#### 修正

* ラスター画像を範囲選択した後、キャンバスの上または左の端をまたいで移動させてからUNDO/REDOすると選択範囲の表示が崩れていた問題を修正しました
* キャンバスページを2回以降開いた時に範囲選択が出来なくなっていた問題を修正しました

### v0.1.3 2024/11

#### 修正

* ラスター画像の範囲選択が動作するように修正しました

#### 変更

* キャンバス変形用のボタンを画面左下に配置しました

#### 機能更新

* カテゴリを貫通する消しゴムと範囲選択に対応しました
* ベクター画像に対する消しゴム動作をラスター画像の円ベースに変更しました
* 簡易エクスポートに対応しました
  * キャンバスページのプレビュー範囲指定、プレビューページのリピート区間範囲を簡易エクスポートできます

### v0.1.2 2024/10

#### 修正

* エピソード作成時に自動で追加されるカテゴリ設定を調整しました
  * カテゴリ名をアプリの言語設定に合わせて表示するようにしました
  * ペンのサイズをキャンバスサイズに応じて変化するように
  * 筆圧を反映する設定をデフォルトでオフに変更
* レイヤーカテゴリ設定ページのカラーパレットを表示する設定のローカライズ漏れを修正しました
* レイヤーカテゴリ設定ページでカテゴリの指定を変更した場合にキャンバスページで設定が再読み込みされるようにしました
* キャンバスページでカット内のラスターレイヤーを編集していると、別カットに選択を移動しても前カットの描写状況が残ってしまっていた問題を修正しました
* 開いた状態のカラーパレットUIの色選択UIに明るさを変更するスライダーを追加


### v0.1.1 2024/10

このアップデートから更新情報でお伝えする際の「ページの呼称」を変更しました

* カット編集ページ → キャンバスページ
* カット一覧ページ → リストページ

以下は変更ありません

* フォルダ探索ページ
* エクスポートページ
* プレビューページ
* 設定ページ

#### 修正

* 動画コンテ出力時にカットの再生時間がゼロの場合に出力に失敗していた問題を修正しました
* チャプター結合用のbatファイル内に日本語等が使われていると実行に失敗していた問題を修正しました
* エピソードにシーン区切りが無い場合に動画用チャプターテキストを出力しないよう変更しました
* キャンバスページのキャンバスズーム切り替えボタンが白背景のキャンバスと同色で見えなくなっていた問題を修正しました
* アプリが管理していないフォルダから.strdstファイルを起動するケースのために.strdstファイルの作業用ファイルをテンポラリファイルに出力するように変更しました
* キャンバスページのプレビュー範囲指定のショートカットボタン２つが名称と動作が互い違いになっていた問題を修正しました
* キャンバスページでキャンバスを拡大表示した際にカット一覧など他の表示を覆ってしまう問題を修正しました
* キャンバスページにてカット一覧を表示サイズを変更する区切り線がキャンバス背景と同色で見づらかった問題を修正しました

#### 機能更新

* キャンバスページのレイヤー及びカテゴリの選択をそれぞれ別々のボタンから変更するようにしました
* キャンバスページのカット一覧の下にあった各種ボタン類のレイアウトを変更しました
  * カット番号の表示、１カットずつの移動、カットのタイム表示、テキスト編集ボタンが表示されるようになりました
  * リファレンスやキャンバスサイズ変更などの大きな機能切替に当たる操作は右側の「点３つのボタン」に格納しました
* 「塗り用カラーパレットを表示する」が有効なレイヤーカテゴリを選択した時に色選択が表示されるようになりました
* リストページとキャンバスページの表示キャッシュを有効化し、ページの移動が軽快に行われるように調整しました


### v0.1.0 2024/10

#### 修正

* プレビュー再生時にCPU利用率が想定より高くなっていた問題を修正しました
* カット編集ページを開いた時に、キャンバスやカット一覧の表示ズレが視認できていた問題を修正しました

#### 機能更新

* プレビューページを追加しました
  * カット一覧ページ、カット編集ページの画面上部に表示された再生ボタン（横向きの三角形が表示されたボタン）からプレビューページを開くことができます
  * プレビューをメインに行う画面で指定区間のリピート再生に対応
* カット編集ページのプレビュー範囲指定の方法を刷新しました
  * 範囲指定開始ボタンを押したらカット一覧から２つのカットを選択する形に変更しました
  * 合わせてカット一覧のスクロール操作に対してプレビュー範囲が追従する動作は削除しました


### v0.0.9 2024/09

#### 修正

* カット編集ページのオニオンスキンは「リファレンス」タブに移動しました
* カット削除やカット接続切替のタイミングで内部情報が壊れ、エピソード読み込みが出来なくなっていた問題を軽減しました
* すべてエクスポート時に各エクスポート方法の有効・無効切替が反映されていなかった問題を修正しました
* エクスポート方法「台本」をすべてエクスポートに含めていた場合に、台本のみエクスポート処理が開始しない問題を修正しました
* エクスポート方法「動画の字幕」の対象指定のデフォルト値をActionからDialogに変更しました

#### 機能更新

* エクスポート方法に「動画用チャプターテキスト」を追加しました
  * 同時にffmpegを利用した動画とチャプターの結合用Batファイルを出力できます
  * ffmpegは別途インストールが必要です [詳しくはこちら](/starryboard/features/merge-video-and-chapters)



### v0.0.8 2024/09

#### 修正

* シーン区切りが削除できなかった問題を修正しました
* カット一覧ページで、接続カットの途中にカットを追加できるように修正しました
* カット一覧ページで、シーン区切りのジャンプスクロールがスムーズに行われるよう修正しました
* カット一覧ページとカット編集ページのカットアイテムのメニュー項目の表示が共通のものになるよう調整しました
* カットを接続する際、前後どちらのカットにもカット区切りがあるとカット区切りが削除されずにエピソードが開けなくなる問題を修正しました


### v0.0.7 2024/09

#### 修正

* 接続したカットの子カットを削除した際に削除カットの情報が正常に削除されいなかった問題を修正しました
* カット一覧ページのシーン区切りジャンプ機能が一部機能しなくなっていた問題を修正しました

### v0.0.6 2024/09

#### 機能更新

* カットに対してシーン区切りを指定する機能を追加しました
  * カット一覧ページのカット番号部分から「シーン区切りに指定」を選択すると指定できます
  * カット一覧ページの右側にある三本線のボタンからシーン一覧を表示でき、シーンの選択と削除を行えます

#### 修正

* カット削除時にエピソードファイルからカット関連データを除去できていなかった問題を修正しました
* カット一覧ページにおける子カットのカット番号が表示されていなかった問題を修正しました
* カット一覧ページでカットの個別追加しようとした際に追加位置がズレていた問題を修正しました
* カット一覧ページ上部の表示がスクロールしていると滲む問題を修正しました

### v0.0.5 2024/09

#### 機能更新

* 台本エクスポート時に話者名とセリフを分離して表示できるようになりました
  * [詳しい指定方法はこちら](https://tor4kichi.github.io/starryboard/features/features_v0)

#### 修正

* アプリ内の表現として「シーン」を「エピソード」に置き換えました
  * 今後、エピソード内のカットをシーン分割する機能実装を予定しているため文言を整理するものです
* 台本エクスポート時に、Cutやダイアログの表示項目名にシーン設定の入力内容が反映されていなかった問題を修正しました
* エピソード一覧ページから設定ページを開いたときに、エピソードファイルを開いていないのにエピソード関連の設定タブが表示されていた問題を修正しました


### v0.0.4 2024/09/11

#### 新機能

* 台本エクスポートに対応しました
* アプリ設定から表示テーマを変更できるようになりました
* カットのキャンバス編集中、消しゴム使用時に対象レイヤー以外を半透明表示にする機能を追加しました

#### 修正 

* レイヤーカテゴリのラスター指定が反映されておらず全てベクター画像で作成されていた問題を修正
* カットのキャンバス編集中、消しゴム使用時に範囲円がポインターとズレていた点を修正
* カット編集ページのダイアログやアクションのテキストボックスにフォーカスがある状態で別カットを選択したりページ移動した際に、編集中テキストが保存されていなかった問題を修正
* ライトテーマ時に画面の一部が見づらくなっていた問題を修正



### v0.0.3 2024/08/31

* 英語の翻訳を追加（日本語からの機械翻訳のため、ニュアンスが異なる可能性があります）
* Timeの変更単位に 1 以上を指定する機能を追加しました。アプリ設定ページから変更できます。デフォルトは 2 です
* エクスポートページにおける透かし除去アドオンが購入できるようになりました。あわせて透かし除去のお試し機能は削除しました

### v0.0.2 

* 2024/08/17 初リリース
